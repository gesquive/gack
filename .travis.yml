language: go
go:
- 1.12.5
env:
  - GO111MODULE=on
install: make deps
script: make
before_deploy: make dist
deploy:
  provider: releases
  api_key:
    secure: JjtdBakOVkC9slNCglx9qgcAfhabpfPlgi8IcM9d0+U2gckiBbX5+AedIRKeXZ57UMAZlSVVK/huYDoZojX7ZSRuYLLCOLgL7zEIcdoUjNjmMbL9ia6BdwN66j2u6mbLkF01btws+zYjfiH5jO5jgIPNFNwALPKu9f2jz6s5Z17Q1HzCzflFs7SUnYnW9/e7e+4CvZThpRJvx5XZINkZg+kMzEugcMEG4m3baEGD69ZK0/1mFTf7CRHhfUykJKZejNnp0K6BdDmsJ4DvJcDL8tnydLru+gM4igFkDkQZK2GBuWK0PyyhyOqxiTmB332P+DsspUUDJvlTGlmjpB/BVUbSICUJySr6K8h6yfV1DYVTHIaLRtLxxm0wdaPdUyHjFEsu8vhTaNvv1JktL/1lTMjq2ur+5bWW2AbdGmHecnadnEcIKE3CWbxT4rV9MpCJrahKMrrA4+lTnq/dI/tBtw5hLXk/kr5E1Z0y8Q8e3+xx5PHwtoYFPOttYcQ9adip/ZtOYY8t1rjvb87nfHZ4e6YdRTkAgDcza44JHqI/gDSUz90vVg6mrQ9+gB9ljqdbkqVDeTiplZ/JsNqlaJ8ZXGAg4+Dnl9I3B6A+Dnmg1+dZlNC8UYMtnYMOeG+D9e4Z9zs+XILQcyKhj2cNeBAzockwy+Zn6tBTHRYg8GNxRz4=
  file_glob: true
  file:
    - dist/*-v*.tar.gz
    - dist/*-v*.zip
  skip_cleanup: true
  on:
    tags: true
    condition: $TRAVIS_TAG =~ ^v[0-9]+\.[0-9]+(\.[0-9]+)?(-[^ \t\r\n\v\f]*)?$ && $TRAVIS_GO_VERSION =~ ^1\.12\.?[0-9]*$
